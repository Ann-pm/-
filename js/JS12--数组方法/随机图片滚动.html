<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body,div,ul,li,img{margin: 0; padding: 0;}
        li{list-style: none;}
        #all{width: 202px; height: 406px; margin: 100px auto; position: relative;}
        #left{position: absolute; left: 0;}
        #right{position: absolute; left: 102px;}
        li {width: 100px; height: 100px; position: relative; overflow: hidden;}
        li div{position: absolute; top:0;}
        li div img{width: 100px; height: 100px;}
    </style>
    <script>
        window.onload=function(){
            var aLi=document.getElementsByTagName('li');

            var onOff=true;

            function timer(){
                setTimeout(function(){
                    var num=Math.round(Math.random()*7);
                    change(aLi[num]);
                },100);
            }
            timer();

            function change(li){
                var oDiv=li.getElementsByTagName('div')[0];

                if(onOff){
                    move(oDiv,'top',10,-100,function(){
                        timer();
                    });
                    onOff=false;
                }else {
                    move(oDiv,'top',10,0,function(){
                        timer();
                    });
                    onOff=true;
                }
            }
        }

        function move(obj,attr,dir,target,endFn){
            dir=parseInt(getStyle(obj,attr))<target?dir:-dir;

            clearInterval(obj.move);
            obj.move=setInterval(function(){
                var speed=parseInt(getStyle(obj,attr))+dir;
                if(speed>target&&dir>0||speed<target&&dir<0){
                    speed=target;
                }
                obj.style[attr] = speed +'px';
                if(speed==target){
                    clearInterval(obj.move);
                    endFn&&endFn();
                }
            },30);
        }  //move 函数

        function getStyle(obj,attr){
            return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
        }
    </script>
</head>
<body>
    <div id="all">
        <ul id="left">
            <li>
                <div><img src="images/di-1.jpg" /><img src="images/di-2.jpg" /></div>
            </li>
            <li>
                <div><img src="images/li-1.jpg" /><img src="images/li-2.jpg" /></div>
            </li>
            <li>
                <div><img src="images/lu-1.jpg" /><img src="images/lu-2.jpg" /></div>
            </li>
            <li>
                <div><img src="images/wu-1.jpg" /><img src="images/wu-2.jpg" /></div>
            </li>
        </ul>
        <ul id="right">
            <li>
                <div><img src="images/xue-1.jpg" /><img src="images/xue-2.jpg" /></div>
            </li>
            <li>
                <div><img src="images/yang-1.jpg" /><img src="images/yang-2.jpg" /></div>
            </li>
            <li>
                <div><img src="images/zh-1.jpg" /><img src="images/zh-2.jpg" /></div>
            </li>
            <li>
                <div><img src="images/zhao-1.jpg" /><img src="images/zhao-2.jpg" /></div>
            </li>
        </ul>
    </div>
</body>
</html>